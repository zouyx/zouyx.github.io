<!DOCTYPE html>
<html>
  <head>
    <title>好书推荐-<图解性能优化>? – Joe Zou – 世界不会在意你的自尊,人们看到的只是你的成就,在你没有成功以前,切勿过分强调自尊</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。

" />
    <meta property="og:description" content="因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。

" />
    
    <meta name="author" content="Joe Zou" />

    
    <meta property="og:title" content="好书推荐-<图解性能优化>?" />
    <meta property="twitter:title" content="好书推荐-<图解性能优化>?" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Joe Zou - 世界不会在意你的自尊,人们看到的只是你的成就,在你没有成功以前,切勿过分强调自尊" href="/feed.xml" />
    <link rel="shortcut icon" href="/favicon.ico"/>
    <link rel="bookmark" href="/favicon.ico"/>
    <meta name="baidu-site-verification" content="2Mdkttrz2v" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>好书推荐-? | Joe Zou</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="好书推荐-?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。" />
<meta property="og:description" content="因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。" />
<link rel="canonical" href="http://zouyx.github.io/posts/2017/11/01/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90-%E5%9B%BE%E8%A7%A3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" />
<meta property="og:url" content="http://zouyx.github.io/posts/2017/11/01/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90-%E5%9B%BE%E8%A7%A3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" />
<meta property="og:site_name" content="Joe Zou" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-01T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。","@type":"BlogPosting","url":"http://zouyx.github.io/posts/2017/11/01/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90-%E5%9B%BE%E8%A7%A3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html","headline":"好书推荐-?","dateModified":"2017-11-01T00:00:00+08:00","datePublished":"2017-11-01T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://zouyx.github.io/posts/2017/11/01/%E5%A5%BD%E4%B9%A6%E6%8E%A8%E8%8D%90-%E5%9B%BE%E8%A7%A3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  
    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-115938575-1', 'auto');
	ga('send', 'pageview', { 'page': location.pathname + location.search + location.hash});
	ga('set', 'anonymizeIp', true);
    </script>
    <!-- End Google Analytics -->
    </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://avatars.githubusercontent.com/u/3828072?v=4&s=400" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Joe Zou</a></h1>
            <p class="site-description">世界不会在意你的自尊,人们看到的只是你的成就,在你没有成功以前,切勿过分强调自尊</p>
          </div>

          <nav>
            
              <a href="/" title="Go to Blogs">Blogs</a>
            
              <a href="/projects" title="Go to Projects">Projects</a>
            
              <a href="/about" title="Go to About">About</a>
            
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>好书推荐-<图解性能优化>?</h1>

  <div class="entry">
    <p>因为工作的原因，对性能优化，程序调优比较关注，但是性能分析湿一个大课题。本书从应用，操作系统至网络逐步分析如何进行调优。</p>

<h2 id="lets-go">Let‘s Go!</h2>
<hr />

<h2 id="第一章">第一章</h2>

<ul>
  <li>什么是算法，具体例子</li>
  <li>锁的性能，机制</li>
</ul>

<h3 id="锁">锁</h3>
<p>在并行情况下保证数据一致性的必要机制，锁的实现：</p>

<ul>
  <li>golang：mutex</li>
  <li>java：synchronized，读写锁，除了这两种常规的锁方式，还提供无锁的操作类，最具代表性的就是使用CAS的ConcurrentHashMap</li>
</ul>

<h3 id="可能导致的问题死锁">可能导致的问题：死锁</h3>

<p>在两个对象互相争用对方已占用的资源而产生，解决方案？百度一下嘛兄弟。</p>

<h3 id="如何提高性能">如何提高性能</h3>

<p>我认为是无法提高锁的性能，应该处理的是以下两个方面</p>

<ul>
  <li>提高的应该是被锁区域（下称：临界区）的处理速度，让下一个操作尽快进入。</li>
  <li>降低临界区的粒度，控制其复杂度，只需要将保持原子性的代码放入临界区，不过还是推荐多写可重入的代码。</li>
</ul>

<h2 id="第二章">第二章</h2>

<ul>
  <li>性能分析的基础：从数据开始（原话：从测量开始）</li>
  <li>收集必要信息</li>
  <li>性能分析工具</li>
</ul>

<h3 id="如何测量">如何测量</h3>

<p>这个是大部分初学者，刚接触性能分析的朋友比较头疼的问题，在此我推荐比较实用的工具</p>

<h4 id="数据库级">数据库级</h4>

<ul>
  <li>Mysql：如果线上允许可以使用Druid的监控</li>
</ul>

<h4 id="缓存级">缓存级</h4>

<ul>
  <li>Redis：CacheCloud</li>
</ul>

<h4 id="语言级">语言级</h4>
<ul>
  <li>java：jmap，jhat，jstack，jvisualvm，MAT，jprofile，好了到这里都是大家知道的工具。另外：还有Netflix公司提供的<a href="/Java-FlameGraph火焰图">FlameGraph火焰图</a></li>
  <li>golang：<a href="/Golang-go_tool_pprof性能监控">pprof</a></li>
</ul>

<h4 id="操作系统级">操作系统级</h4>

<ul>
  <li>系统监控：zabbix，grafana</li>
  <li>系统链路跟踪：CAT,pinpong</li>
</ul>

<h2 id="第三章">第三章</h2>

<ul>
  <li>性能分析思路</li>
  <li>如何调查原因</li>
</ul>

<h3 id="性能分析思路">性能分析思路</h3>

<p>应先熟悉整个链路，再从前端到数据库服务器排查整个链路出现性能问题的点，再去评估修复方案，最后就是用前面提到的一些工具帮助修复。</p>

<h3 id="如何调查原因">如何调查原因</h3>

<p>建议看一下书中这一节中“初学者容易掉入的陷阱”中介绍的案例，例如：关注受害者，千万不要只关注受害者，要不永远不知道真正性能问题发生的原因。</p>

<h2 id="第四章">第四章</h2>

<ul>
  <li>掌握现场调优的准则</li>
  <li>调优的技巧</li>
</ul>

<h3 id="现场调优的准则">现场调优的准则</h3>
<ul>
  <li>时刻保持大局观。</li>
  <li>要有前瞻性的眼光，但是调优需要适合目前的业务情况，不能过度优化。</li>
  <li>多看数据，以数据为基准</li>
</ul>

<h3 id="调优的技巧">调优的技巧</h3>
<ul>
  <li>限流</li>
  <li>访问频率高的数据，总在用户的附近</li>
  <li>同步-&gt;异步</li>
  <li>多任务处理</li>
  <li>LB</li>
  <li>Cache</li>
  <li>读写分离
不再一一列举</li>
</ul>

<h2 id="第五章-性能测试">第五章 性能测试</h2>

<ul>
  <li>性能测试种类</li>
  <li>有针对性的性能测试</li>
  <li>性能测试的预估</li>
</ul>

<h3 id="为什么是由针对的性能测试">为什么是由针对的性能测试？</h3>
<p>不是每一个功能的需要进行性能测试，只需要测试真实有性能要求的功能才是有意义，例如：压测只有一个管理员使用的后台管理用户功能，这样做是无意义的。</p>

<h3 id="为什么需要对性能测试进行预估">为什么需要对性能测试进行预估？</h3>
<p>对性能测试提供数据预估，是为性能测试的目标提供准则，为线上验证提供依据。
怎样进行性能预估？首先需要该功能的DAU，从DAU推算出平均QPS，使用现有数据的高峰期与平均QPS的比值，推算出该功能的高峰期QPS并用于性能测试。如果找不到DAU怎么办？找产品啊！还能咋办？产品没有咋办？自求多福，兄弟。</p>

<p>##第六章</p>
<ul>
  <li>什么是虚拟化</li>
  <li>主要虚拟化技术</li>
  <li>虚拟化性能分析方案</li>
</ul>

<h3 id="cpu及内存虚拟化技术">CPU及内存虚拟化技术</h3>
<p>主要是超线程，CPU与内存过载使用的时候，宿主机如何去快速切换／调度CPU与内存的技术。</p>

<h2 id="第七章">第七章</h2>
<ul>
  <li>云计算与IDC架构的区别</li>
  <li>云计算内部结构与最佳架构</li>
  <li>云计算中的性能问题分析</li>
</ul>

<h3 id="差异">差异？</h3>
<p>就是上了云之后，可以再也不需要太操心硬件的问题，都有专人帮你解决，可以让开发人员更加专注于业务。</p>

<h3 id="性能问题分析">性能问题分析？</h3>
<p>也是各种传统工具，其中两种就是AB与Jmeter。</p>

<h1 id="最后">最后</h1>
<p>再次推荐该书，不仅对解决问题的思维有积极影响，对工作及生活都有另外一番思考。</p>

<p>祝各位读者阅读愉快！</p>

  </div>

  <div>
    <img src="/images/code.jpg"/>
  </div>

  <div class="date">
    Written on November  1, 2017
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:joezou@apache.org"><i class="svg-icon email"></i></a>


<a href="https://github.com/zouyx"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/joe-zou-829b2981"><i class="svg-icon linkedin"></i></a>

<a href="/feed.xml"><i class="svg-icon rss"></i></a>




        </footer>
      </div>
    </div>

    

  </body>
</html>
